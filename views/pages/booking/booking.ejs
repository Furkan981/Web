<div id="booking">
    <div class="upper_body">
    <a class="btn" href="/camp" style="width: auto;font-size: xx-small;font-weight: 900;"><< zurück zur Übersicht Camp </a>
    </div>
<head>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
</head>

<body style="min-height: 100% !important;"> 
    <div id="camp">
        <div class="container allcenter">
            <h1>Camp <%=camps.name%></h1>
            <div class="item-content" style="text-align: -webkit-center;"><!-- -webkit-center -->
                <img src="/images/mainauhd.jpg" alt="Camp01" class="card__images" style=" height: 250px;width: 250px;  border: 5px solid #5f5f64;   margin-top: 20px; box-shadow: 0 1px 15px #ccbf90;">
                <hr/>
                <h4>Preis pro Platz: <%=camps.price%>€</h4>
                        <section class="container">
                                 <form action="booking/confirm" method="GET" 
                                 style="text-align: -webkit-center;"> <!-- -webkit-center -->
                                 <input type="hidden" name="_csrf" value="" />
                                 <div class="row form-group">
                                    <!--VON-->
                                     <label for="date" class="col-sm-1 col-form-label">von:</label>
                                     <div class="col-sm-4">
                                         <span class="input-group-append form-group">
                                          <input data-provide="datepicker" class="form-control"  type="datevon" id="datevon" name="datevon" style="border: 2px solid #178ca4;" onchange="check_dates()">
                                         <span class="input-group-text bg-white">
                                             <i class="fa fa-calendar"></i>
                                         </span>
                                         </span>
                                     </div>
                                     <!--BIS-->
                                     <label for="date" class="col-sm-1 col-form-label"> bis:</label>
                                     <div class="col-sm-4">
                                         <span class="input-group-append form-group">
                                          <input data-provide="datepicker" class="form-control"  type="datebis" id="datebis" name="datebis" style="border: 2px solid #178ca4;" onchange="check_dates()">
                                         <span class="input-group-text bg-white">
                                             <i class="fa fa-calendar"></i>
                                         </span>
                                         </span>
                                     </div>
                                 </div>
                                 <div id="hierspotsarbnor">
                                    <h4>Platzauswahl</h4>
                                    <div class="item-content">
                                        <table class="table">
                                            <thead>
                                                <tr>A</tr>
                                            </thead>
                                            <tbody>
                                              <%spots.forEach(function(spot){ %>   
                                              
                                                <td id="tdid"><%=spot.spotnumber%></td>
                                              
                                              <% }); %>
                                            </tbody>
                                        </table>
                                    </div>
                                 </div>
                                <hr/>
                                 <h4>Gesamt:<%=camps.price%>€</h4>
                                   <!--ERROR-->
                                 <div id="err-msg"></div> 
                                   <!--BUTTONS-->
                                    <a class="btn btn-primary" href="/camp/<%=camps.id%>">Cancel</a>
                                 <button id="final_but" type="submit" class="btn mb-4 btn-outline-info" disabled style="color: #5f5f64;font-family: 'Open Sans', Arial, sans-serif;font-variant-ligatures: no-common-ligatures;font-weight: 500;background-color: #e9e2c8;">Bestellen</button>
                             </form>
                         </section>
                       
                
                
            </div>
        </div>
    </div>
        <script>
            function check_dates() {
                var date_a = document.getElementById("datevon").value;
                var date_b = document.getElementById("datebis").value;
                let date_now = Date.now()
                let button = document.getElementById("final_but");
        
                if (!date_b || !date_a) {
                    button.disabled = true
                } else if (date_b < date_now || date_a < date_now) {
                    button.disabled = true
                }
                if (date_a <= date_b || date_now <= date_b) {
                    button.disabled = false;
                    
                }
            }
        </script>
        
    </body>
    
    </div>




